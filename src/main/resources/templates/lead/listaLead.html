<!DOCTYPE html>
<html th:replace="~{layout :: layout (~{::main})}" >


<body>


    
		<main class="container">
		    <section class="layout-content" layout:fragment="corpo">	
	   		 <nav class="navbar navbar-expand-md bg-light">
		            <div class="collapse navbar-collapse" id="navbarsExampleDefault">
		                <ul class="navbar-nav mr-auto">
		                    <li class="nav-item active">
		                        <i class="oi oi-caret-right"></i>
		                      <h2 >Lista de Lead's</h2>
		                    </li>
		                </ul>
		                <a class="btn btn-primary btn-md" href="/lead/cadastrar" role="button">
		                    <span class="oi oi-plus" title="Cadastro" aria-hidden="true"></span>
		                    <span>+Lead</span>
		                </a>
		            </div>
		    </nav>
			
		  <p>
		        <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#collapseNome"
		         aria-expanded="false"    aria-controls="collapseNome">Cliente
		        </button>
		        
		        	        
		         <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#collapseContato"
		         aria-expanded="false"    aria-controls="collapseContato">Por Contato
		        </button>
		        
		         <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#collapseSituacao"
		         aria-expanded="false"    aria-controls="collapseSituacao">Por Situação
		        </button>
		  </p>
		  
		  
		  <div class="row">
		  	<div class = "col">
		       <div class="collapse.show" id="collapseNome" aria-labelledby="headingOne" data-parent="#selector">
		              <div class="navbar navbar-light bg-light">
		                            <form class="form-inline" method="GET" th:action="@{/lead/buscar/nome}">
		                                <input class="form-control mr-sm-2" type="search" placeholder="nome" aria-label="Search"
		                                       th:name="nome" />
		                                <button class="btn btn-outline-success my-2 my-sm-0">Search</button>
		                            </form>
		               </div>
		
		         </div>
		      </div>
		      
		      	      <div class = "col">
		       <div class="collapse.show" id="collapseContato" aria-labelledby="headingOne" data-parent="#selector">
		              <div class="navbar navbar-light bg-light">
		                            <form class="form-inline" method="GET" th:action="@{/lead/buscar/contato}">
		                                <input class="form-control mr-sm-2" type="search" placeholder="contato" aria-label="Search"
		                                       th:name="contato" />
		                                <button class="btn btn-outline-success my-2 my-sm-0">Search</button>
		                            </form>
		               </div>
		
		         </div>
		      </div>
		      
		      		  	<div class = "col">
		       <div class="collapse.show" id="collapseSituacao" aria-labelledby="headingOne" data-parent="#selector">
		              <div class="navbar navbar-light bg-light">
		                            <form class="form-inline" method="GET" th:action="@{/lead/buscar/status}">
		                                <input class="form-control mr-sm-2" type="search" placeholder="situacao" aria-label="Search"
		                                       th:name="situacao" />
		                                <button class="btn btn-outline-success my-2 my-sm-0">Search</button>
		                            </form>
		               </div>
		
		         </div>
		   </div>
	            	
	       
		 <div class="table-responsive">
			<div th:replace="fragments/alert"></div>
			   <table class="table table-striped table-hover table-sm">
			   
			      <thead>
			         <tr>
			           	<th scope="col">#</th>
	                    <th scope="col">Cliente</th>
		                <th scope="col">Contato</th>
		                 <th scope="col"></th>
		                  <th scope="col"></th>
		                <th scope="col">AÃ§Ãµes</th>
		             </tr>
		          </thead>
		          <tbody>
			          <tr  th:each="lead : ${pageLead.registros}">
		               	<td class="col-sm-4" th:text="${lead.id}"></td>
		                <td th:text="${lead.nmLead}"></td>
		             
		                <td th:text="${lead.celLead}"></td>
		                <td></td>
		            	<td></td>
		                <td>
		                  	<a class="btn btn-info btn-sm" th:href="@{/lead/{id}/editar (id=${lead.id})}" role="button">
		                  		<span class="oi oi-brush" title="Editar" aria-hidden="true">Editar</</span>
		                  	</a>
		                 
		                  
							<a th:href="@{/lead/{id}/excluir (id=${lead.id})}"  class="btn btn-danger btn-sm"
							th:onclick="return confirm('Tem certeza que deseja excluir o lead?');"
							>Excluir</a>
		                </td>
		             </tr>
		         </tbody>
		      </table>
		      <nav aria-label="page navegation">
			      <ul class="pagination justify-content-center">
				      <li class="page-item">
				      		<a class="page-link" th:href="@{/lead/listar(page=${1}, dir=${pageLead.direcao})}" tabindex="-1">First</a>
				      </li>
				      <li th:class="${pageLead.pagina == 1} ? 'page-item disabled' : 'page-item'">
						    <a class="page-link" th:href="@{/lead/listar(page=${pageLead.pagina - 1}, dir=${pageLead.direcao})}" tabindex="-1">Prev</a>
					  </li>
				      <li class="page-item">
						    <span class="page-link" th:text="|${pageLead.pagina} de ${pageLead.totalDePaginas}|"></span>
				      </li>
					  <li th:class="${pageLead.pagina == pageLead.totalDePaginas} ? 'page-item disabled' : 'page-item'">
						     <a class="page-link" th:href="@{/lead/listar(page=${pageLead.pagina + 1}, dir=${pageLead.direcao})}">Next</a>
					  </li>
					  <li class="page-item">
						     <a class="page-link" th:href="@{/lead/listar(page=${pageLead.totalDePaginas}, dir=${pageLead.direcao})}" tabindex="-1">Last</a>
					  </li>	
			      </ul>
		      </nav>
		    </div>
			<div th:replace="fragments/modal :: modal"></div>
			
	   </section>
	 </main>

  </body>
</html>